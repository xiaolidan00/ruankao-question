# 第 1 题

试题一（25 分）
阅读以下关于系统分析任务的叙述，在答题纸上回答问题 1 至问题 3。
【说明】
某公司是一家以运动健身器材销售为主营业务的企业，为了扩展销售渠道，解决原销售系统存在的许多问题，公司委托某软件企业开发一套运动健身器材在线销售系统。目前，新系统开发处于问题分析阶段，所分析各项内容如下所述：
（a）用户需要用键盘输入复杂且存在重复的商品信息；
（b）订单信息页面自动获取商品信息并填充；
（c）商品订单需要远程访问库存数据并打印提货单；
（d）自动生成电子提货单并发送给仓库系统；
（e）商品编码应与原系统商品编码保持一致；
（f）商品订单处理速度太慢；
（g）订单处理的平均时间减少 30%；
（h）数据编辑服务器 CPU 性能较低；
（i）系统运维人员数量不能增加。

## 【问题 1】（8 分）

问题分析阶段主要完成对项目开发的问题、机会和/或指示的更全面的理解。请说明系统分析师在问题分析阶段通常需要完成哪四项主要任务。

---

(1) 研究问题领域
(2) 分析问题和机会
(3) 分析业务过程
(4) 制定系统改进目标

本题考查考生对于软件系统问题分析技术的掌握情况。
问题分析阶段主要完成对项目开发的问题、机会和/或指示的更全面的理解。问题分析主要关心现有系统的系统所有者视图和系统用户视图，这个阶段的最后交付成果和里程碑是产生处理问题、机会和指示的系统改进目标。问题分析通常包括的任务有研究问题领域、分析问题和机会、分析业务过程、制定系统改进目标、修改项目执行计划、汇报分析结果和建议。
研究问题领域是系统所有者、用户和分析员对系统不同层次理解、认识和不同的观点，主要输入是系统章程和可能存在于当前系统资料库和程序库中的任何系统文档，交付成果是对问题领域和业务术语的理解。分析问题和机会是真正深入分析问题，确定问题产生的原因和结果，所采用的技术是因果分析。分析业务过程是项问团队仔细检作企业的业务过程，评估每个过程相对于整个组织减少或者增加的价值。制定系统改进目标的目的是建立项目成功的标准，对系统的任何改进都将按照这个标准进行度量，同吋在这个任务确定了任何可能限制系统改进的约束条件。
软件系统问题分析是系统分析师必须要掌握的专业知识与技能，特别是需要掌握因果分析方法以确定系统真正的问题及原因，并能正确理解系统设计过程中的约束条件。
系统问题分析是确保系统开发质量和项目成功执行的关键，通过对当前问题领域及存在问题的研究，深入分析问题所产生的原因，进一步分析当前业务过程是否存在问题，最终确定系统的改进目标并识别在达到这些目标中需要受到的约束条件。所以问题分析包括的核心任务主要有研究问题领域、分析问题和机会、分析业务过程、制定系统改进目标四项任务。

## 【问题 2】（9 分）

因果分析是问题分析阶段一项重要技术，可以得出对系统问题的真正理解，并且有助于得到更具有创造性和价值的方案。请将题目中所列(a) ~ (i)各项内容填入表中(1) ~ (4)对应位置。
表 1-1 问题、机会、目标和约束条件
![img](https://image-t.chaiding.com/ruankao/8111d7e844916dffb99a87fe429d7594.jpg-ruankao)

---

(1) (f)
(2) (a) (c) (h)
(3) (b) (d) (g)
(4) (e) (i)

因果分析是问题分析阶段一项重要技术，可以得出对系统问题的真正理解，并且有助于得到更具有创造性和价值的方案。在题目所列出的各项内容中，（a）“用户需要用键盘输入复杂且存在重复的商品信息”是产生系统响应慢的原因；（b）“订单信息页面自动获取商品信息并填充”是提高系统执行效率的改进目标；（c）“商品订单需要远程访问库存数据并打印提货单”是系统响应慢的原因；（d）“自动生成电子提货单并发送给仓库系统”是提高系统执行效率的改进目标；（e）“商品编码应与原系统商品编码保持一致”是系统在达到改进目标过程中所受到的约束；（f）“商品订单处理速度太慢”是系统当前存在的问题；（g）“订单处理的平均时间减少 30%”是提高系统执行效率的改进目标；（h）“数据编辑服务器 CPU 性能较低”是系统响应慢的原因；（I）“系统运维人员数量不能增加”是系统在达到改进目标过程中所受到的约束。

## 【问题 3】（8 分）

系统约束条件可以分为四类，请将类别名称填入表中(1) ~ (4)对应的位置。
表 1-2 约束条件分类
![img](https://image-t.chaiding.com/ruankao/22924c8f254b7e42ea6fd8bc39ee707f.jpg-ruankao)

---

(1) 进度
(2) 成本
(3) 技术
(4) 政策/标准

系统约束是对系统在达到改进目标过程中所必须满足的条件，约束基本上无法被改变。系统约束通常分为四类：进度约束、成本约束、技术约束、政策/标准约束。在题目所列出的各项内容中，“新系统必须在五月底上线运行”属于进度约束；“新系统开发费用不超过 20 万元”属于成本约束；“新系统必须能够实现在线实时处理”属于技术约束；“新系统必须满足 GB 31524—2005 电商平台技术规范”属于政策/标准约束。

# 第 2 题

试题三（25 分）
阅读以下关于安全关键系统安全性设计技术的描述，回答问题 1 至问题 3。
【说明】
某公司长期从事计算机产品的研制工作，公司领导为了响应国家军民融合的发展战略，决定要积极参与我国军用设备领域的研制工作，将本公司的计算机及软件产品通过提升和改造，应用到军用装备的安全关键系统中。公司为了承担军用产品的研发任务，公司领导将论证工作交给王工负责。王工经调研分析，提交了一份完整论证报告。

## 【问题 1】（12 分）

论证报告指出：我们公司长期从事民用市场的计算机研制工作，在研制流程、管理方法以及环境试验等方面都不能达到军用设备相关技术要求。要承担武器装备生产研制工作，就必须建立公司的武器装备生产研制质量体系，需要拿到军方或政府部门颁发的资格认证。从技术上讲，军用设备产品大部分都属于安全关键系统，其计算机及软件的缺陷会导致武器装备失效，因此，公司技术人员应及早掌握相关安全性基本概念和相关设计知识。
（1）企业要承担武器装备产品生产任务，需获得一些资格认证，请列举两种资格认证名称。
（2）请说明安全关键系统的定义，并列举出两个安全关键系统的实例设备。
（3）请简要说明安全性（safety）的具体含义，并给出产品设计时，安全性分析通常采用哪两种方法?

---

1.  军用产品生产需要获得以下五种认证：
    (1) 国军标质量管理体系认证，简称国军标认证（ISO—9001);
    (2) 武器装备科研生产许可证认证，简称许可证认证；
    (3) 武器装备科研生产单位保密资质认证，简称保密认证；
    (4) 装备承制单位资格名录认证，简称名录认证；
    (5) 军用软件研制能力成熟度模型资格认证，简称软件认证（GJB5000)。
2.  安全关键系统是指其不正确功能和失效会导致人员伤亡、财产损失等严重后果的计算机系统。
    如果计算机系统的失效可能引起灾难性的后果，如丧失生命、大量财产损失或环境遭到灾难性损失，则这个计算机系统能被称为“安全关键系统”。
    (以上两段定义，只要回答正确任何一段，即可得 3 分）

本题主要考査考生对军用安全关键系统相关研制过程、质量保证和安全性评价等技术知识的掌握及应用。首先要求考生应在理解安全关键系统相关技术的基本概念和主要特征的基础上，针对军用设备技术要求、安全性分级标准的等软件设计方法开展学习，重点从标准体系、安全功能等级和失效容忍概率以及实时调度等关键技术方面思考问题，以进一步提高考生对安全关键系统知识的掌握能力。
此类题目要求考生根据已从事过或将要从事的安全关键系统的软件开发项目的相关知识，认真阅读题目对技术问题的描述，经过分析、分类和概括等方法，从中分析出题干或备选答案给出的术语差异，正确回答【问题 1】到【问题 3】所涉及的各类技术要点。
我国军用装备产品经过六十多年研制，已建立了完善的研制体系，从事军用装备产品研制的企业，必须通过多种资质认证工作。在国家军民融合发展战略鼓舞下，许多民营及股份制企业准备将自己的产品打入军用装备领域，或承担军用设备研制工作。与此同时，国家已降低进入门槛，鼓励民营企业参与军工产品研制工作。但是，政策的放宽不等于产品质量的降低，因此，参与军用设备的研制工作的企业必须要拿到相应资质，建立军品研制体系。
通常，军工产品研制体系包含五种资质认证。
(1) 国军标质量管理体系认证，简称国军标认证（ISO—9001)
ISO—9000 族标准是国际标准化组织（ISO)在 1994 年提出的概念，是国际标准化组织质量管理和质量保证技术委员会制定的国际标准。ISO—9001 是 ISO—9000 族标准所包含的一组质量管理体系核心标准之一，主要用于证实组织具有提供满足顾客需求和适用法规要求的产品能力，目的在于增进顾客满意度。凡是通过认证的企业，在各项管理系统整合上已达到了国际标准，表明企业能持续稳定地向顾客提供预期和满意的合格产品。从事军工产品研制的企业必须通过 ISO—9001 认证。
(2) 武器装备科研生产许可证认证，简称许可证认证
武器装备科研生产许可是指国家对由国务院国防科技工业主管部门会同军委装备发展部和军工电子行业主管部门共同制定的，列入武器装备科研生产许可目录的武器装备科研生产活动实行许可管理。未取得武器装备科研生产许可，不得从事许可目录所列的武器装备科研生产活动。取得武器装备科研生产许可的单位，应当在许可范围内从事武器装备科研生产活动，按照国家要求或者合同约定提供合格的科研成果和武器装备。
(3) 装备承制单位资格名录认证，简称名录认证
《装备承制单位资格名录》是由军委装备发展部组织对装备承制单位的审核确定的满足武器装备科研生产许可要求的单位名录，实行装备承制单位资格审查制度，对于培养竞争主体、营造竞争环境，降低采购风险，提高装备建设质量效益，具有重要意义。《装备采购条例》规定：装备采购实行承制单位资格审査制。除特殊情况外，装备采购的承制单位应当从《装备承制单位资格名录》中选择。装备承制单位分为三类：第一类装备承制单位是指承制装备的总体、关键、重要分系统和核心配套产品的单位；第二类装备承制单位是指承制其他军队专用装备和一般配套产品的单位；第二类装备承制单位是指承制军选民用产品的单位。
(4) 武器装备科研生产单位保密资格认证，简称保密认证
为规范武器装备科研生产单位保密资格审查认证工作，确保国家秘密安全，依据《中华人民共和国保守国家秘密法》和相关保密规定，由国家保密局、国防科工局和军委装备发展部联合制定《武器装备科研生产单位保密资质审查认证管理办法》，规定承制武器装备科研生产任务的企事业单位应取得相应的保密资格。武器装备科研生产单位保密资格分为一级、二级、三级等三个等级，一级保密资格的单位可以承担绝密级科研生产任务；二级保密资格的单位可以承担机密级科研生产任务；三级保密资格的单位可以承担秘密级科研生产任务。
(5) 军用软件研制能力成熟度模型资格认证，简称软件认证（GJB5000)
软件能力成熟度模型是一种对软件组织在定义、实施、度量、控制和改善其软件过程的实践中各个发展阶段的描述形成的标准。而军用软件研制能力成熟度模型是以 CMMI-DEV 1.2 版本为基础制定的面向军用软件研制的标准（GJB5000—2008),同样，承研军用软件研制生产的单位，应根据自身承担的软件任务情况，获取相应的军用软件研制能力成熟度模型认证等级，未获得软件 GJB5000 认证的单位将不能研制生产军用软件。
以上五种资质（格）认证是承担武器装备生产的必备资质。当然，作为软件企业，要想从事军用软件研制任务，保密资格认证和 GJB5000 软件认证是必不可少的。
在日常生活中，所乘的交通工具、使用各种的电子设备，都可能对人身存在着不同程度的伤害或重大财产损失。将这类系统分为安全关键系统或非安全关键系统。安全关键系统（Safety-Critical-System)又称“安全攸关系统”，是指其小正确功能和失效会好致人员伤亡、财产损失等严重后果的计算机系统。因此，如果计算机系统的失效可能引起灾难性的后果，如丧失生命、大量财产损失或环境遭到灾难性损失，则这个计算机系统能被称为“安全关键系统”。
通常情况下，安企管家系统包含飞行器中的飞行控制系统、汽车中的电子稳定指令系统、火车控制系统、核反应堆系统、医疗设备的心脏起搏器、功率输电网和机器人的人机交互等。
在安全关键系统设计时，为了提高系统的安全性设计能力，预防系统的失效所带来的重大灾难，在系统顶层设计时，应编制系统的安全分析报告，通常安全性分析采用故障树（Fault Tree Analysis)分析法和失效模式和影响域（Failure Mode and Effects Analysis FMEA)分析法两种。

1. 故障树分析法：故障树分析法（FTA)又称事故树分析法，是安全系统工程中最重要的分析方法。故障树分析从一个可能的事故开始，自上而下、逐层寻找直接原因和间接原因事件，直到基本原因事件，并用逻辑图把这些事件之间的逻辑关系表达出来。
2. 失效模式和影响域分析法：失效模式和影响域分析法（FMEA)是分析系统中每一个产品所打可能产生的故障模式及其对系统造成的所有可能影响，并按每一个故障模式的严重程度，检测难易积度以及发生频率予以分类的一种归纳分析方法。

## 【问题 2】（6 分）

IEC 61508 （《电气/电子/可编程电子安全系统的功能要求》）是国际上对安全关键系统规定的一种较完整的安全性等级划分标准，本标准是由国际电工委员会（International Electronic Commission）正式发布的电气和电子部件行业标准（GB/T 20438 等同于此标准）。本标准对设备或系统的安全完整性等级（SIL）划分为 4 个等级（SIL1、SIL2、SIL3、SIL4），SIL4 是最高要求。
表 3-1 给出了本标准对安全功能等级和失效容忍概率的对应关系。请根据自己所掌握的安全功能等级相关知识，补充完善表 3-1 给出的（1）~（6）空格，并将答案写在答题纸上。
表 3-1 安全功能等级(SIL)和失效容忍惯率对照表
![img](https://image-t.chaiding.com/ruankao/8501d3f1d51d20942748e834ded9e89d.jpg-ruankao)

---

（1）≧10-5 to < 10-4 （2）≧10-9 to < 10-8
（3）≧10-4 to < 10-3 （4）≧10-3 to < 10-2
（5）≧10-7 to < 10-6 （6）≧10-6 to < 10-5

针对安全关键系统危害程度，国际上通常根据设备引起的危害程度将安令等级进行分级，并根据设备的安全性设计水平开展安全等级评估。
IEC 61508 (《电气/电子/可编程电子安全系统的功能要求》）标准规定了常规系统运行和故障预测能力两方而的基本安全要求。这些要求涵盖了一般安全管理系统、具体产品设计和符合安全要求的过程设计，其目标是既避免系统性设计故障，又避免随机性硬件失效。它是国际上对安全关键系统规定的一种较完整的安全性等级划分标准，本标准是由国际电工委员会(International Electronic Commission)正式发布的电气和电子部件行业标准，国内编制的国标 GB/T20438 与此标准等同。本标准对设备或系统的安全完整性等级（SIL)划分为 4 个等级（SIL1、SIL2、SIL3、SIL4),SIL4 是最高要求。表 3-1 给出了这叫个安全等级划分。
![img](https://image-t.chaiding.com/ruankao/cb6da8ed50404c96c8fcbd7403b62f7b.jpg-ruankao)
本考题主要考查考生对 IEC 61508 标准中对安全性级别划分的理解程度。

## 【问题 3】（7 分）

实时调度是安全关键系统的关键技术。实时调度一般分为动态和静态两种。其中，静态调度是指在离线情况下计算出的任务的可调度性，静态调度必须保证所有任务的时限、资源、优先级和同步的需求。图 3-1 给出了一组分布式任务执行的优先级关系，请根据图 3-1 给出任务间的优先级关系实例，按静态调度算法的基本原理，补充完善图 3-2 给出的任务静态调度搜索树的（1）~（10）空白，并给出最佳调度路径。
![img](https://image-t.chaiding.com/ruankao/2373793c785c0f28a5f01b270b20c518.jpg-ruankao)
图 3-1 分布式任务的优先权关系图
![img](https://image-t.chaiding.com/ruankao/b559105fd258e8400dfc26f83949eaf3.jpg-ruankao)
图 3-2 静态调度搜索树图

---

（1）T6 （2）T5 （3）T7
（4）M1 （5）T1 （6）T3
（7）T4 （8）M2 （9）T6
（10）T5
备注：（4） 与（5）、 (6)与 (7)、 (8)与（9）在图中位置可互换。
最佳调度路径：T0—T2—M1&T1—T3&T4—M2&T6—T5—T7

在实时系统中，掌握任务调度算法是对考生的基本要求。通常情况下，实时系统任务都是按预先定义好的时间序列运行，为保证系统确定性要求，可调度性分析是设计安全关键系统任务调度的关键技术之一。
实时调度一般分为动态和静态两种。其中，静态调度是指在离线情况下计算出的任务的可调度性，静态调度必须保证所有任务的时限、资源、优先级和同步的需求。
本题给出了一组分布式任务执行的优先级关系，任务 0~任务 3 运行在节点 1CPU 上，通过消息机制和节点 2 上的任务 4~任务 7 进行协调工作，这里假设了每个任务和每个消息运行在一个时间单位（Slot),本题是在已给任务静态调度搜索树的基础上，回答可调度的任务安排序列。从任务静态调度搜索树分析出：（1）~（3）空显然与第一组调度任务排列有相同之处，任务 5 和任务 6 改变顺序即可；对于第三组调度序列，只要注意消息活动与任务间的关系，应该可以按顺序编排完成。最佳调度路径为 T0—T2—M 1&T1—T3&T4—M2&T6—T5—T7,这样的最佳路径比前面两组调度节省一个时间节拍。

# 第 3 题

试题二（25 分）
阅读以下关于系统分析设计的叙述，在答题纸上回答问题 1 至问题 3。
【说明】
某软件公司为共享单车租赁公司开发一套单车租赁服务系统，公司项目组对此待开发项目进行了分析，具体描述如下：
（1）用户（非注册用户）通过手机向租赁服务系统进行注册，成为可租赁共享单车的合法用户，其中包括提供身份、手机号等信息，并支付约定押金；
（2）将采购的共享单车注册到租赁服务系统后方可投入使用。即将单车的标识信息（车辆编号、二维码等）录入到系统；
（3）用户（注册或非注册用户）通过手机查询可获得单车的地理位置信息以便就近取用；
（4）用户（注册用户）通过手机登录到租赁服务系统中，通过扫描二维码或输入车辆编号以进行系统确认，系统后台对指定车辆状态（可用或不可用），以及用户资格进行确认，通过确认后对车辆下达解锁指令；
（5）用户在用完车辆后关闭车锁，车辆自身将闭锁状态上报到租赁服务系统中，完成车辆状态的更新和用户租赁费用结算；
（6）系统应具备一定的扩容能力，以满足未来市场规模扩张的需要。
项目组李工认为该系统功能相对独立，系统可分解为不同的独立功能模块，适合采用结构化分析与设计方法对系统进行分析与设计。但王工认为，系统可管理的对象明确，而且项目团队具有较强的面向对象系统开发经验，建议采用面向对象分析与设计方法。经项目组讨论，决定采用王工的建议，采用面向对象分析与设计方法开发系统。

## 【问题 1】（7 分）

在系统分析阶段，结构化分析和面向对象分析方法主要分析过程和分析模型均有所区别，请将（a）~（g）各项内容填入表 2-1（1）~（4）处对应位置。
表 2-1 系统分析方法比较
![img](https://image-t.chaiding.com/ruankao/3b1a3b5b0be7d1c173a5d3ecb45e7d62.jpg-ruankao)
（a）确定目标系统概念类；
（b）实体关系图（ERD）；
（c）用例图；
（d）通过功能分解方式把系统功能分解到各个模块中；
（e）交互图；
（f）数据流图（DFD）；
（g）建立类间交互关系。

---

（1）（d）
（2）（b）（f）
（3）（a）（g）
（4）（c）（e）

构建和实现一个能很好满足用户诉求的应用系统，离不开对用户真实需求全面而精准的获取。因此，在系统开发之前系统分析环节至关重要。
本题正是考查考生对常用系统分析方法掌握的程度。在软件工程实践中，人们总结了许多种需求分析方法，其中主要包括结构化分析方法（SA)和面向对象分析方法(OOA)。这两种方法特点各异。SA 关注功能的分层和分解，采用自上而下、逐步分解问题，直至问题小至可解决为止的方式进行系统分析，以做到对系统的全面认知。它隐含几个基本前提，即问题域是可定义且有限的，可通过有限步骤将复杂问题分解到可解决程度。OOA 则基于抽象、信息隐蔽、功能独立和模块化理念进行系统分析。OOA 从对问题域的事物表象进行观测入手，对逻辑世界中逻辑对象进行定义，以及对对象行为和表象以对象关系模型和对象行为模型加以呈现，从而达到对系统完整而深入的理解。
实践中 SA、OOA 这两种分析方法很难以孰优孰劣来评价，它们都被不同的系统分析人员来运用并成功地分析、开发出用户满意的软件系统。只是 OOA 方法当今更受到人们推崇，拥有大量语言和建模功能支持。
本题以当今流行的共享单车运营系统为例，采用 OOA 分析方法对共享单车系统展开分析，完成用例图的绘制。此外，进一步考査考生在进行系统功能分析的基础上对系统性能方面问题的分析能力。
总之，本题从多维度考量考生的系统分析能力，进而客观评价考生的实际工作能力或潜力。
本问题旨在考查考生对系统分析方法知识点掌握的程度。重点考查考生对两种分析方法过程以及输出结果的了解情况。
结构化分析方法（SA)主要包括对系统进行模块划分，把识别出的功能分解到各模块中，通过描述细分的模块功能来达到整系统功能的目的。在 SA 分析中以数据流图(DFD)表示模块之间的数据交互关系，并通过实体关系图（ERD)表示数据模型，以状态转换图(STD)表示行为模型。
面向对象分析方法（OOA)主要包括对系统进行概念类定义，确定类之间的关系，以及为类确定职责，建立交互图等，以达到对系统功能的完整描述。在 OOA 分析中，以用例图来表示概念类之间的关系，以交互图来表示相关对象之间的行为。
因此，（1）选择（d）; (2)选择（b） (f)； (3)选择（a） (g)； (4)选择（c） (e)。

## 【问题 2】（12 分）

请分析下面 A~Q 所列出的共享单车租赁服务系统中的概念类及其方法，在图 2-1 所示用例图（1）~（12）处补充所缺失信息。
A.用户，B.共享单车，C.用户管理，D.注册，E.注销，F.用户查询，G.单车管理，H.租赁，I.归还，J.单车查询，K.费用管理，L.保证金管理，M.租赁费管理，N.数据存储管理，O.用户数据存储管理，P.单车数据存储管理，Q.费用结算，R.身份认证
![img](https://image-t.chaiding.com/ruankao/618abe41c539a6fa21d197b7b07df52f.jpg-ruankao)
图 2-1 单车租赁服务系统用例图

---

(1) D (2) F (3) C (4) R (5) A (6) N
(7) P (8) I (9) B (10) K (11) L (12) Q

面向对象分析方法主要围绕用例图展开。考生需结合题干中给出的概念类及其方法完善题中给出的用例图。
通过分析题干部分给出的系统功能描述，可捕获到以下事实。
用户（概念类）通过系统用户管理（概念类）进行注册或注销，并通过用广数据存储管理（概念类）进行用户信息保存。同时在用户注册过程中，还需要通过外部第三方身份认证系统进行用户身份认证。
共享单车（概念类）通过系统的单车管理（概念类）进行管理来投放市场，同时将单车的标识信息通过单车数据存储管理（概念类）进行保存。
其中用户数据存储和单车数据存储存在共性，可进一步抽象出数据存储（概念类)。并且数据存储通过系统外部存储系统实现数据的存储和访问。
用户通过单车管理（概念类）完成租赁、归还的过程，其中归还过程中可能出现单车需要维修的可能。
另外，用户在租赁单车过程中涉及费用管理（概念类），其中包括保证金管理、租赁费管理和费用结算三个环节，其中费用结算需要通过外部费用支付系统来完成。
基于上述分析，可确定本题答案如下：（1） D，(2) F，(3) C，(4) R，(5) A, (6) N, (7) P, (8) I， (9) B, (10) K, (11) L, (12) Q。

## 【问题 3】（6 分）

随着共享单车投放量以及用户量的增加会存在系统性能或容量下降问题，请用 200 字以内的文字说明，在系统设计之初，如何考虑此类问题?

---

(1) 数据存储容量
用于存储用户、单车信息的存储系统需要可灵活扩展，如采用独立存储系统（磁盘阵列或 NAS 等）。
(2) 服务器处理性能
如应对超量并发访问用户问题，或超量共享单车连接系统问题，可考虑：
提升单服务器的处理性能，如提升服务器处理核数量；同时上层应用系统支持多实例化部署能力，能根据底层处理器资源的多少进行灵活调整。
也可采用服务器集群，并前置负载均衡处理机保证用户访问系统的并发能力及均衡性，进而提升系统利用率。
(3) 通信性能
服务器网口速率提升，如由 1GE 接口升级为 10GE 接口等；另外，对服务器接口进行灵活扩展，如采用端口聚合等。

考查考生在非功能属性（性能和容量）方面对系统的分析能力。在系统开发初期能否对系统进行全面（功能、非功能等质量属性）而深入的分析，直接影响到待开发系统后续的设汁、实现以及交付的质量好坏，以及顺利与否。
在题干中提到系统应具备一定的扩容能力以满足未来市场规模扩张的需要。本问题需结合共享单车系统的特点给出性能和容量的瓶颈所在，以及应对策略。
通过对单车租赁服务系统整体分析，在市场规模扩张后，对系统带来的挑战主要来自数据存储容量问题，系统所运行的服务器处理性能问题，以及系统通信带宽问题等。
数据存储需考虑用于存储用户、单车信息的存储系统需要可灵活扩展，如采用独立存储系统（磁盘阵列或 NAS 等)。
服务器处理性能主要考虑如应对超量并发访问用户问题，或超量共享单车连接问题。可采用提升服务器处理核数量来提升单服务器的处理性能；同时，应用系统应采用多实例化方式设计、部署，以适应底层处理器资源的多少进行灵活调整。或者采用服务器集群，并前置负载均衡处理机保证用户访问系统的并发能力及均衡性，从而做到有效提升系统处理性能。
在通信性能方面，可通过提升服务器网口速率，如由 1GE 接口升级为 10GE 接口等来增加系统接入能力，具体实施中，可通过对服务器接口进行端口聚合来灵活提升接口吞吐。

# 第 4 题

试题五（25 分）
阅读以下关于 Web 应用设计开发的描述，在答题纸上回答问题 1 至问题 3。
【说明】
某公司拟开发一个自由、可定制性强、用户界面友好的在线调查系统，以获取员工在课程学习、对公司重大事件的看法、对办公室环境的建议等相关反馈。因需要调查的内容各异，可选择的调查方式多样，故本在线调查系统应满足以下需求：
1）支持编辑和视图两种模式，编辑模式只对调查发起者可见，视图模式对接受调查者可见。
2）调查问卷具有可定制性，因调查的内容各异，需要多样的信息采集方式，可设置的调查问题类型包括单选、多选、矩阵类单选、矩阵类多选和开放性问题。
3）操作简单，调查者可以方便地新建和编辑各种问题类型，接受调查者可对每个问题和每个调查问卷给出评论。
4）系统支持显示调查统计结果，以及导出统计结果。
针对以上需求，经项目组讨论，拟采用 REST 架构风格设计实现该在线调查系统。

## 【问题 1】（10 分）

分析该在线调查系统的业务流程，填写图 5-1 中（1）～（5）的内容。
![img](https://image-t.chaiding.com/ruankao/f7317f883a579bfd8eeb94ac98552499.jpg-ruankao)
图 5-1 在线调查系统业务流程分析

---

(1) 发起调查者；
(2) 接受调査者；
(3) 是否保存调查问卷;
(4) 待发布调查问卷；
(5) 填写调查问卷。

本题目考查 Web 系统设计分析的相关知识。
此类题目要求考也认真阅读题目对系统需求的描述，分析抽象系统的业务需求，并根据系统需求特征设计 Web 应用的系统架构。
本题目通过分析题目中对在线问卷调查系统的需求描述，抽象出该 Web 应用系统的业务流程，完成题目给出的业务流程图。
![img](https://image-t.chaiding.com/ruankao/3df4f6e274d4bfcf129834524419914b.jpg-ruankao)

## 【问题 2】（10 分）

REST 架构风格的核心是资源抽象。在系统设计中，项目组拟将系统中的每一个实体抽象成一种资源。请列举出该系统中的 5 种资源。

---

用户、调查问卷、问卷问题、问卷问题的选项、调查结果、问卷问题评论、调查问卷评论等。

本题考查 REST 风格的相关知识和运用 REST 风格设计 Web 应用系统。
REST 即表述性状态传递（Representational State Transfer，REST)是一种软件架构风格。它是，它是一种针对网络应用的设计和开发方式，可以降低开发的复杂性，提高系统的可伸缩性。目前在三种主流的 Web 服务实现方案中，因为 REST 模式的 Web 服务与复杂的 SOAP 和 XML-RPC 对比来讲更加简洁，越来越多的 Web 服务开始采用 REST 风格设计和实现。例如，Amazon.com 提供接近 REST 风格的 Web 服务进行图书査找。
在 REST 中，每个事物或者每一个值得被标识的关键抽象都拥有一个明显的资源 ID。该在线调査系统中，E-R 设计中的每一个实体都是一种资源。对每种资源我们都可以采用 REST 风格 URI 进行访问。在这个项目中的每个 Model 都是一个资源。例如对于 User 资源，可以输入以下的 URI:http://someaddress.eom/users/1,将返回序号为1的用户信息的页面。因此，可被抽象为资源的包括用户、调査问卷、问卷问题、问卷问题的选项、调査结果、问卷问题评论、调查问卷评论等。

## 【问题 3】（5 分）

基于 REST 架构风格对系统进行设计，请简要叙述 REST 风格的 5 条关键原则。

---

REST 风格的 5 个关键原则包括：
(1) 为所有“事务”定义 ID;
(2) 将所有事务链接在一起；
(3) 使用标准方法；
(4) 资源多重表述；
(5) 无状态通信。

本题目考查 REST 风格的 5 个关键原则及相关知识及应用。REST 风格的 5 个关键原则分别为：
(1)为所有“事物”定义 ID。每个事务都应该是可标识的，都应该拥有一个明显的 ID——在 Web 中，代表 ID 的统一概念是 URI。URI 构成了一个全局命名空间，使用 URI 标识你的关键资源意味着它们获得了一个唯一、全局的 ID。
(2) 将所有事物链接在一起。任何可能的情况下，使用链接指引可以被标识的事物(资源）。
(3) 使用标准方法。为使客户端程序能与你的资源相互协作，资源应该正确地实现默认的应用协议(HTTP),也就是使用标准的 GET、PUT、POST 和 DELETE 方法。
(4) 资源多重表述。是指针对不同的需求提供资源多重表述。在实践中，资源多重表述还有着其他重要的好处：如果你为你的资源提供 HTML 和 XML 两种表述方式，那这些资源不仅可以被你的应用所用，还可以被任意标准 Web 浏览器所用，即应用信息可以被所有会使用 Web 的人获取到。
(5) 无状态通信。REST 要求状态要么被放入资源状态中，要么保存在客户端上。换句话说，服务器端不能保持除了单次请求之外的、任何与其通倍的客户端的通信状态。

# 第 5 题

试题四（25 分）
阅读以下关于数据库设计的叙述，在答题纸上回答问题 1 至问题 3。
【说明】
某软件企业开发一套类似于淘宝网上商城业务的电子商务网站。该系统涉及多种用户角色，包括购物用户、商铺管理员，系统管理员等。
在数据库设计中，该系统数据库的核心关系包括：
产品（产品编码，产品名称，产品价格，库存数量，商铺编码）
商铺（商铺编码，商铺名称，商铺地址，商铺邮箱，服务电话）
用户（用户编码，用户名称，用户地址，联系电话）
订单（订单编码，订单日期，用户编码，商铺编码，产品编码，产品数量，订单总价）
不同用户角色有不同的数据需求，为此该软件企业在基本数据库关系模式的基础上，定制了许多视图。其中，有很多视图涉及到多表关联和聚集函数运算。

## 【问题 1】（8 分）

商铺用户需要实时统计本商铺的货物数量和销售情况，以便及时补货，或者为商铺调整销售策略。为此专门设计了可实时查看当天商铺中货物销售情况和存货情况的视图，商铺产品销售情况日报表（商铺编码，产品编码，日销售产品数量，库存数量，日期）。
数据库运行测试过程中，发现针对该视图查询性能比较差，不满足用户需求。
请说明数据库视图的基本概念及其优点，并说明本视图设计导致查询性能较差的原因。

---

视图是由一个或多个表中数据组成的虚拟表，视图本身没有物理数据存在。针对视图的查询被 DBMS 转换为针对底层基表的数据查询。
其优点：

1.  简单性，视图不仅可以简化用户对数据的理解，也可以简化他们的操作。u2003
2.  通过视图用户只能查询和修改他们所能见到的数据，用户可以被限制在数据的不同子集上。
3.  逻辑数据独立性，视图可帮助用户屏蔽真实表结构变化带来的影响。
    视图商铺产品销售情况日报表的数据来源于三个基表，针对该视图的查询被 DBMS 转换为针对底层基表的查询，即 DBMS 需要实时执行三个基表的关联操作、sum 函数计算，性能开销比较大。基表中的数据越多，查询的性能开销越大。

视图是数据库开发中经常使用的一个数据库对象，是一个虚拟表，其内容由査询定义。同真实的表一样，视图包含一系列带有名称的列和行数据。但是，视图并不在数据库中以物理存储的数据形式存在，存储的是视图定义对应的 SELECT 语句。行和列数据来自由定义视图的查询所引用的表，并且在引用视图时动态生成。
根据视图本身的定义和特定，其优点是：
简单性，视图不仅可以简化用户对数据的理解，也可以简化他们的操作。例如可以封装底层的多表数据查询的细节，只提供用户关心的数据等；
限制用户对数据的访问，通过视图用户只能查询和修改他们所能见到的数据，用户可以被限制在数据的不同子集上；
逻辑数据独立性，视图可帮助用户屏蔽真实表结构变化带来的影响。例如多表查询、聚合信息等。
缺点是视图对应的数据是在用户引用视图时动态生成，往往会有较大的开销，针对复杂视图的查询往往存在性能问题。尤其是设计多表关联操作时，表现更为明显。
视图商铺产品销售情况日报表的数据来源于个基表，针对该视图的查询被 DBMS 转换为针对底层基表的查询，即 DBMS 需要实时执行三个基表的关联操作、sum 函数计算，性能开销比较大。基表中的数据越多，查询的性能开销越大。

## 【问题 2】（8 分）

为解决该视图查询性能比较差的问题，张工建议为该数据建立单独的商品当天货物销售、存货情况的关系表。但李工认为张工的方案造成了数据不一致的问题，必须采用一定的手段来解决。
1）说明张工方案是否能够对该视图查询性能有所提升，并解释原因：
2）解释说明李工指出的数据不一致问题产生的原因。

---

1.  张工方案可以提升该视图查询性能。
    原因是：为该査询单独设置物理表，数据来源于其他基表，可以通过索引等技术提高针对该物理表的査询效率；单独设表，数据提前算好放到表中，无须查询时的计算开销，提高性能。
2.  该方案造成了日销售产品数量和库存数量的数据存在多张表中，出现了数据冗余。存在的问题：当新增订单或产品库存数量发生变更时，必须实时同步数据，否则会造成数据不一致问题。如果采用张工的方案，必须采用某些手段来解决数据不一致的问题。

张工的方案类似于反规范化操作。
张工方案可以提升该视图査询性能。原因是：为该查询单独设置物理表，数据来源于其他基表，可以通过索引等技术来提高针对该物理表的查询效率；单独设表，数据提前算好放到表中，无须查询时的计算开销，提高性能。
该方案的缺点也类似于反规范化操作的缺点。主要的问题是数据冗余存放，会带来数据不一致和更新异常等问题。具体到张工的方案中，日销售产品数量和库存数量的数椐存在多张表中，出现了数据冗余。存在的问题是当新增订单或产品库存数量发生变更时，必须实时同步数据，否则会造成数据不一致问题。如果采用张工的方案，必须采用某些手段来解决数据不一致的问题。

## 【问题 3】（9 分）

针对李工提出的问题，常见的解决手段有应用程序实现，触发器实现和物化视图实现等，请用 300 字以内的文字解释说明这三种方案。

---

应用程序实现：当业务逻辑新增订单、修改产品库存时，由应用程序同步修改该视图数据，所有修改操作视为一个事务，从而保证数据一致性；
触发器实现：在产品表和订单表上增加触发器，触发条件为修改订单（包括新增、删除、修改操作）或者修改产品库存，触发器逻辑为根据触发条件修改视图数据，保证数据一致性。
物化视图实现：将该视图定义为物化视图，物化视图直接将视图数据进行物理存储，并由 DBMS 自动保证数据的一致性。

常见的解决手段有批处理操作、应用程序、触发器和物化视图。
批处理操作指的是先更新交易表，当积累一定数量后，批量更新对应的销售和库存数据，使得数据一致，这种方法使得在一定时间内，数据一直处于不一致状态，基本不会被采用；应用程序方法指的是由应用程序同时更新两个数据，使得数据保持一致，但会增加应用程序的复杂性，改变了原来的业务规则；触发器方式指的是由数据库自动使用触发器来保持数据一致性，这也是数据库幵发中解决反规范化操作缺点的推奍方法，缺点是需要编写额外程序，同时会对原有的事务操作的性能造成影响。
物化视图方法则直接将视图数据进行物理存储，即将视图数据物理化，视图数据与原数据库表的数据，由 DBMS 自动保证数据的一致性，性能开销最小，而无须任何额外的程序或操作。
